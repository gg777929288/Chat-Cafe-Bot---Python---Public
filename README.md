# 聊天咖啡廳 Discord 機器人

歡迎加入我們的 Discord 伺服器：[聊天咖啡廳](https://discord.gg/VzdeVzHfxB)！也歡迎參訪我們的網站：[咖啡廳網站](https://www.coffeeshoptw.com/)。

這是一個使用 `discord.py` 庫製作的 Discord 機器人。該機器人可以加載位於 `./cogs` 目錄中的擴展（Cogs），並且在啟動時同步應用指令樹。本程式碼使用 GitHub Copilot 等 AI 工具進行產生，也開放各位使用及修改。

## 主要功能

- 使用 `discord.py` 庫來建立機器人。
- 支援指令前綴 `!`。
- 自動加載 `./cogs` 目錄中的所有擴展。
- 在啟動時同步應用指令樹。
- 每個檔案項目目前皆為獨立運行，`main.py` 為集成 Discord 斜線指令功能之檔案，其餘為專用功能之檔案。

## 功能與指令介紹

### 公告功能
- **指令**: `!公告 <內容>`
- **說明**: 發布公告到指定頻道。
- **權限**: 需要管理員權限。

## 功能與指令介紹

### 公告功能
- **指令**: `/公告 <內容>`
- **說明**: 發布公告到指定頻道。
- **權限**: 需要管理員權限。

### 帳號管理功能
- **指令**: `/創建帳號`
- **說明**: 創建一個新的用戶帳號。
- **指令**: `/登入 <帳號或電子郵件> <密碼>`
- **說明**: 登入到您的帳號。

### 使用者資訊功能
- **指令**: `/使用者`
- **說明**: 查看您的個人資料。
- **指令**: `/搜尋使用者 <用戶名>`
- **說明**: 搜尋伺服器中的用戶。

### 語音頻道管理功能
- **指令**: `/管理語音頻道`
- **說明**: 管理您當前的語音頻道。
- **指令**: `/set_channel_name <名稱>`
- **說明**: 設置您當前語音頻道的名稱。
- **指令**: `/set_channel_region <區域>`
- **說明**: 設置您當前語音頻道的區域。
- **指令**: `/mute_user @用戶`
- **說明**: 將指定用戶靜音。
- **指令**: `/deafen_user @用戶`
- **說明**: 將指定用戶禁聲。
- **指令**: `/blacklist_user @用戶`
- **說明**: 將指定用戶列入黑名單。
- **指令**: `/invite_manager @用戶`
- **說明**: 邀請指定用戶為管理員。

### 檢舉系統功能
- **指令**: `/檢舉紀錄 @用戶`
- **說明**: 查詢指定用戶的檢舉紀錄。
- **指令**: `/被檢舉紀錄 @用戶`
- **說明**: 查詢指定用戶的被檢舉紀錄。
- **指令**: `/檢舉案件 [搜尋條件]`
- **說明**: 查詢符合條件的檢舉案件。
- **指令**: `/指令`
- **說明**: 查看機器人的指令列表。
- **指令**: `@機器人 我要檢舉 (可@該用戶)`
- **說明**: 檢舉其他人違規的行為。

### 機器人管理功能
- **指令**: `/start_bot`
- **說明**: 啟動機器人。
- **指令**: `/stop_bot`
- **說明**: 停止機器人。

### 錯誤處理功能
- **說明**: 自動處理機器人運行過程中的錯誤並嘗試重連。

## 如何運行？

1. 安裝所需的庫（比如 Discord.py，後續需要什麼功能可以自己再下載）：
    ```bash
    pip install discord.py
    pip install flask
    pip install websockets
    pip install aiosqlite
    pip install flask-cors
    pip install asyncio
    pip install flask-socketio
    pip install requests
    ```

2. 到 [Discord Developer Portal](https://discord.com/developers/applications) 取得你的機器人 Token，並將你的機器人 Token 替換到所有檔案中的 `YOUR_BOT_TOKEN` 字樣。

3. 確認完所有代碼後運行機器人：
    ```bash
    python main.py
    ```

## 目錄結構
